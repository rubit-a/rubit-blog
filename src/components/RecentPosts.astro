---
import { getCollection } from 'astro:content';

const posts = (await getCollection('blog'))
	.sort((a, b) => b.data.pubDate.valueOf() - a.data.pubDate.valueOf())
	.slice(0, 5);
---

<div class="recent-posts">
	<h3>최근 포스트</h3>
	<ul>
		{
			posts.map((post) => (
				<li>
					<a href={`/blog/${post.id}/`}>{post.data.title}</a>
				</li>
			))
		}
	</ul>
</div>

<style>
	.recent-posts {
		margin-bottom: 1.5rem;
	}
	.recent-posts h3 {
		font-size: 0.95rem;
		margin-bottom: 0.75rem;
		color: rgb(var(--gray-dark));
	}
	.recent-posts ul {
		list-style: none;
		margin: 0;
		padding: 0;
	}
	.recent-posts li {
		margin-bottom: 0.6rem;
	}
	.recent-posts a {
		color: rgb(var(--gray-dark));
		text-decoration: none;
		font-size: 0.85rem;
		line-height: 1.3;
		transition: color 0.2s ease;
		display: block;
	}
	.recent-posts a:hover {
		color: rgb(var(--accent));
	}
</style>
